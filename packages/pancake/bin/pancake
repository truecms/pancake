#! /usr/bin/env node
// -*- js -*-

"use strict";


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Dependencies
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
var cli = require("../dist/cli.js");
var Log = require("../dist/log.js").Log;


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// CLI commands handling
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
process.on('unhandledRejection', function( reason ) {
	Log.error( reason );
	process.exitCode = Log.getExitCode() || 1;
});

try {
	cli.init();
}
catch( error ) {
	Log.error( error );
	process.exit( Log.getExitCode() || 1 );
}
